{"ast":null,"code":"import { __awaiter as e, __generator as t, __assign as r, __rest as n } from \"tslib\";\nimport { Auth as i } from \"aws-amplify\";\nimport o from \"lodash/get\";\nimport s from \"lodash/isEmpty\";\nimport { createMachine as a, sendUpdate as c } from \"xstate\";\nimport { runValidators as d } from \"../../../validators/index.js\";\nimport { clearAttributeToVerify as u, clearChallengeName as l, clearRequiredAttributes as g, clearError as f, clearFormValues as m, clearTouched as h, clearUnverifiedContactMethods as p, clearValidationError as v, handleInput as I, handleSubmit as A, handleBlur as U, parsePhoneNumber as E, setChallengeName as S, setConfirmResetPasswordIntent as b, setConfirmSignUpIntent as C, setRequiredAttributes as y, setCredentials as T, setFieldErrors as w, setRemoteError as N, setUnverifiedContactMethods as R, setUser as P, setUsernameAuthAttributes as V } from \"../actions.js\";\nimport { defaultServices as F } from \"../defaultServices.js\";\nvar _ = [\"SMS_MFA\", \"SOFTWARE_TOKEN_MFA\"],\n  k = function (e) {\n    return o(e, \"data.challengeName\");\n  },\n  D = function (e, t) {\n    return e === t;\n  },\n  M = function (e) {\n    return _.includes(e);\n  };\nfunction j(o) {\n  var _ = o.services;\n  return a({\n    initial: \"init\",\n    id: \"signInActor\",\n    predictableActionArguments: !0,\n    states: {\n      init: {\n        always: [{\n          target: \"autoSignIn\",\n          cond: \"shouldAutoSignIn\"\n        }, {\n          target: \"signIn\"\n        }]\n      },\n      signIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              CHANGE: {\n                actions: \"handleInput\"\n              },\n              FEDERATED_SIGN_IN: \"federatedSignIn\"\n            }\n          },\n          federatedSignIn: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"federatedSignIn\",\n              onError: {\n                actions: \"setRemoteError\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"parsePhoneNumber\", \"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"signIn\",\n              onDone: [{\n                cond: \"shouldSetupTOTP\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.setupTOTP\"\n              }, {\n                cond: \"shouldConfirmSignIn\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.confirmSignIn\"\n              }, {\n                cond: \"shouldForceChangePassword\",\n                actions: [\"setUser\", \"setChallengeName\", \"setRequiredAttributes\"],\n                target: \"#signInActor.forceNewPassword\"\n              }, {\n                actions: \"setUser\",\n                target: \"verifying\"\n              }],\n              onError: [{\n                cond: \"shouldRedirectToConfirmSignUp\",\n                actions: [\"setCredentials\", \"setConfirmSignUpIntent\"],\n                target: \"rejected\"\n              }, {\n                cond: \"shouldRedirectToConfirmResetPassword\",\n                actions: [\"setUsernameAuthAttributes\", \"setConfirmResetPasswordIntent\"],\n                target: \"rejected\"\n              }, {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }]\n            }\n          },\n          verifying: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"checkVerifiedContact\",\n              onDone: [{\n                cond: \"shouldRequestVerification\",\n                target: \"#signInActor.verifyUser\",\n                actions: \"setUnverifiedContactMethods\"\n              }, {\n                target: \"resolved\"\n              }],\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          },\n          resolved: {\n            always: \"#signInActor.resolved\"\n          },\n          rejected: {\n            always: \"#signInActor.rejected\"\n          }\n        }\n      },\n      autoSignIn: {\n        initial: \"submit\",\n        states: {\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"signIn\",\n              onDone: [{\n                cond: \"shouldSetupTOTP\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.setupTOTP\"\n              }, {\n                cond: \"shouldConfirmSignIn\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.confirmSignIn\"\n              }, {\n                cond: \"shouldForceChangePassword\",\n                actions: [\"setUser\", \"setChallengeName\", \"setRequiredAttributes\"],\n                target: \"#signInActor.forceNewPassword\"\n              }, {\n                actions: \"setUser\",\n                target: \"#signInActor.resolved\"\n              }],\n              onError: [{\n                cond: \"shouldRedirectToConfirmSignUp\",\n                actions: [\"setCredentials\", \"setConfirmSignUpIntent\"],\n                target: \"#signInActor.rejected\"\n              }, {\n                cond: \"shouldRedirectToConfirmResetPassword\",\n                actions: [\"setUsernameAuthAttributes\", \"setConfirmResetPasswordIntent\"],\n                target: \"#signInActor.rejected\"\n              }, {\n                actions: \"setRemoteError\",\n                target: \"#signInActor.signIn\"\n              }]\n            }\n          }\n        }\n      },\n      confirmSignIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"confirmSignIn\",\n              onDone: {\n                target: \"#signInActor.resolved\",\n                actions: [\"setUser\", \"clearChallengeName\", \"clearRequiredAttributes\"]\n              },\n              onError: {\n                target: \"edit\",\n                actions: \"setRemoteError\"\n              }\n            }\n          }\n        }\n      },\n      forceNewPassword: {\n        type: \"parallel\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          validation: {\n            initial: \"pending\",\n            states: {\n              pending: {\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"valid\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"invalid\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              valid: {\n                entry: \"sendUpdate\"\n              },\n              invalid: {\n                entry: \"sendUpdate\"\n              }\n            },\n            on: {\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\",\n                target: \".pending\"\n              },\n              BLUR: {\n                actions: \"handleBlur\",\n                target: \".pending\"\n              }\n            }\n          },\n          submit: {\n            initial: \"idle\",\n            entry: \"clearError\",\n            states: {\n              idle: {\n                entry: \"sendUpdate\",\n                on: {\n                  SUBMIT: {\n                    actions: \"handleSubmit\",\n                    target: \"validate\"\n                  }\n                }\n              },\n              validate: {\n                entry: \"sendUpdate\",\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"pending\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              pending: {\n                tags: [\"pending\"],\n                entry: [\"sendUpdate\", \"clearError\"],\n                invoke: {\n                  src: \"forceNewPassword\",\n                  onDone: [{\n                    cond: \"shouldConfirmSignIn\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.confirmSignIn\"\n                  }, {\n                    cond: \"shouldSetupTOTP\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.setupTOTP\"\n                  }, {\n                    target: \"resolved\",\n                    actions: [\"setUser\", \"setCredentials\"]\n                  }],\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setRemoteError\"\n                  }\n                }\n              },\n              resolved: {\n                type: \"final\",\n                always: \"#signInActor.resolved\"\n              }\n            }\n          }\n        }\n      },\n      setupTOTP: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"verifyTotpToken\",\n              onDone: {\n                actions: [\"clearChallengeName\", \"clearRequiredAttributes\"],\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      verifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"verifyUser\",\n              onDone: {\n                target: \"#signInActor.confirmVerifyUser\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      confirmVerifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearUnverifiedContactMethods\", \"clearAttributeToVerify\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"confirmVerifyUser\",\n              onDone: {\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      resolved: {\n        type: \"final\",\n        data: function (e) {\n          return {\n            user: e.user\n          };\n        }\n      },\n      rejected: {\n        type: \"final\",\n        data: function (e, t) {\n          return {\n            intent: e.redirectIntent,\n            authAttributes: e.authAttributes\n          };\n        }\n      }\n    }\n  }, {\n    actions: {\n      clearAttributeToVerify: u,\n      clearChallengeName: l,\n      clearRequiredAttributes: g,\n      clearError: f,\n      clearFormValues: m,\n      clearTouched: h,\n      clearUnverifiedContactMethods: p,\n      clearValidationError: v,\n      handleInput: I,\n      handleSubmit: A,\n      handleBlur: U,\n      parsePhoneNumber: E,\n      setChallengeName: S,\n      setConfirmResetPasswordIntent: b,\n      setConfirmSignUpIntent: C,\n      setRequiredAttributes: y,\n      setCredentials: T,\n      setFieldErrors: w,\n      setRemoteError: N,\n      setUnverifiedContactMethods: R,\n      setUser: P,\n      setUsernameAuthAttributes: V,\n      sendUpdate: c()\n    },\n    guards: {\n      shouldConfirmSignIn: function (e, t) {\n        return M(k(t));\n      },\n      shouldAutoSignIn: function (e) {\n        return \"autoSignIn\" === (null == e ? void 0 : e.intent);\n      },\n      shouldRedirectToConfirmSignUp: function (e, t) {\n        return \"UserNotConfirmedException\" === t.data.code;\n      },\n      shouldRedirectToConfirmResetPassword: function (e, t) {\n        return \"PasswordResetRequiredException\" === t.data.code;\n      },\n      shouldSetupTOTP: function (e, t) {\n        return D(k(t), \"MFA_SETUP\");\n      },\n      shouldForceChangePassword: function (e, t) {\n        return D(k(t), \"NEW_PASSWORD_REQUIRED\");\n      },\n      shouldRequestVerification: function (e, t) {\n        var r = t.data,\n          n = r.unverified,\n          i = r.verified;\n        return s(i) && !s(n);\n      }\n    },\n    services: {\n      signIn: function (n) {\n        return e(this, void 0, void 0, function () {\n          var e, i, o, s, a, c, d;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n.authAttributes, i = void 0 === e ? {} : e, o = n.formValues, s = void 0 === o ? {} : o, a = r(r({}, i), s), c = a.username, d = a.password, [4, _.handleSignIn({\n                  username: c,\n                  password: d\n                })];\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      confirmSignIn: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e, n, o, s;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.challengeName, n = r.user, o = r.formValues.confirmation_code, s = M(e) ? e : void 0, [4, _.handleConfirmSignIn({\n                  user: n,\n                  code: o,\n                  mfaType: s\n                })];\n              case 1:\n                return t.sent(), [4, i.currentAuthenticatedUser()];\n              case 2:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      forceNewPassword: function (o) {\n        return e(this, void 0, void 0, function () {\n          var e, s, a, c, d, u, l, g, f;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                e = o.user, s = o.formValues, a = s.password, s.confirm_password, c = s.phone_number, d = s.country_code, u = n(s, [\"password\", \"confirm_password\", \"phone_number\", \"country_code\"]), c && (l = \"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi, \"\"), u = r(r({}, u), {\n                  phone_number: l\n                })), t.label = 1;\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, i.completeNewPassword(e, a, u)];\n              case 2:\n                return (g = t.sent()).challengeName ? [2, g] : [2, i.currentAuthenticatedUser()];\n              case 3:\n                return f = t.sent(), [2, Promise.reject(f)];\n              case 4:\n                return [2];\n            }\n          });\n        });\n      },\n      verifyTotpToken: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e, n, o;\n          return t(this, function (t) {\n            return e = r.formValues, n = r.user, o = e.confirmation_code, [2, i.verifyTotpToken(n, o)];\n          });\n        });\n      },\n      federatedSignIn: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n.data.provider, [4, i.federatedSignIn({\n                  provider: e\n                })];\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      checkVerifiedContact: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.user, [4, i.verifiedContact(e)];\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      verifyUser: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.formValues.unverifiedAttr, [4, i.verifyCurrentUserAttribute(e)];\n              case 1:\n                return n = t.sent(), r.attributeToVerify = e, [2, n];\n            }\n          });\n        });\n      },\n      confirmVerifyUser: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.attributeToVerify, n = r.formValues.confirmation_code, [4, i.verifyCurrentUserAttributeSubmit(e, n)];\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      validateFields: function (r) {\n        return e(this, void 0, void 0, function () {\n          return t(this, function (e) {\n            return [2, d(r.formValues, r.touched, r.passwordSettings, [F.validateConfirmPassword])];\n          });\n        });\n      }\n    }\n  });\n}\nexport { j as signInActor };","map":{"version":3,"names":["__awaiter","e","__generator","t","__assign","r","__rest","n","Auth","i","o","s","createMachine","a","sendUpdate","c","runValidators","d","clearAttributeToVerify","u","clearChallengeName","l","clearRequiredAttributes","g","clearError","f","clearFormValues","m","clearTouched","h","clearUnverifiedContactMethods","p","clearValidationError","v","handleInput","I","handleSubmit","A","handleBlur","U","parsePhoneNumber","E","setChallengeName","S","setConfirmResetPasswordIntent","b","setConfirmSignUpIntent","C","setRequiredAttributes","y","setCredentials","T","setFieldErrors","w","setRemoteError","N","setUnverifiedContactMethods","R","setUser","P","setUsernameAuthAttributes","V","defaultServices","F","_","k","D","M","includes","j","services","initial","id","predictableActionArguments","states","init","always","target","cond","signIn","exit","edit","entry","on","SUBMIT","actions","CHANGE","FEDERATED_SIGN_IN","federatedSignIn","tags","invoke","src","onError","submit","onDone","verifying","resolved","rejected","autoSignIn","confirmSignIn","SIGN_IN","forceNewPassword","type","validation","pending","valid","invalid","BLUR","idle","validate","setupTOTP","verifyUser","SKIP","confirmVerifyUser","data","user","intent","redirectIntent","authAttributes","guards","shouldConfirmSignIn","shouldAutoSignIn","shouldRedirectToConfirmSignUp","code","shouldRedirectToConfirmResetPassword","shouldSetupTOTP","shouldForceChangePassword","shouldRequestVerification","unverified","verified","label","formValues","username","password","handleSignIn","sent","challengeName","confirmation_code","handleConfirmSignIn","mfaType","currentAuthenticatedUser","confirm_password","phone_number","country_code","concat","replace","trys","push","completeNewPassword","Promise","reject","verifyTotpToken","provider","checkVerifiedContact","verifiedContact","unverifiedAttr","verifyCurrentUserAttribute","attributeToVerify","verifyCurrentUserAttributeSubmit","validateFields","touched","passwordSettings","validateConfirmPassword","signInActor"],"sources":["C:/Users/weida/Desktop/playground_CC/node_modules/@aws-amplify/ui-react-core/node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signIn.js"],"sourcesContent":["import{__awaiter as e,__generator as t,__assign as r,__rest as n}from\"tslib\";import{Auth as i}from\"aws-amplify\";import o from\"lodash/get\";import s from\"lodash/isEmpty\";import{createMachine as a,sendUpdate as c}from\"xstate\";import{runValidators as d}from\"../../../validators/index.js\";import{clearAttributeToVerify as u,clearChallengeName as l,clearRequiredAttributes as g,clearError as f,clearFormValues as m,clearTouched as h,clearUnverifiedContactMethods as p,clearValidationError as v,handleInput as I,handleSubmit as A,handleBlur as U,parsePhoneNumber as E,setChallengeName as S,setConfirmResetPasswordIntent as b,setConfirmSignUpIntent as C,setRequiredAttributes as y,setCredentials as T,setFieldErrors as w,setRemoteError as N,setUnverifiedContactMethods as R,setUser as P,setUsernameAuthAttributes as V}from\"../actions.js\";import{defaultServices as F}from\"../defaultServices.js\";var _=[\"SMS_MFA\",\"SOFTWARE_TOKEN_MFA\"],k=function(e){return o(e,\"data.challengeName\")},D=function(e,t){return e===t},M=function(e){return _.includes(e)};function j(o){var _=o.services;return a({initial:\"init\",id:\"signInActor\",predictableActionArguments:!0,states:{init:{always:[{target:\"autoSignIn\",cond:\"shouldAutoSignIn\"},{target:\"signIn\"}]},signIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},CHANGE:{actions:\"handleInput\"},FEDERATED_SIGN_IN:\"federatedSignIn\"}},federatedSignIn:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"federatedSignIn\",onError:{actions:\"setRemoteError\"}}},submit:{tags:[\"pending\"],entry:[\"parsePhoneNumber\",\"clearError\",\"sendUpdate\"],invoke:{src:\"signIn\",onDone:[{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldForceChangePassword\",actions:[\"setUser\",\"setChallengeName\",\"setRequiredAttributes\"],target:\"#signInActor.forceNewPassword\"},{actions:\"setUser\",target:\"verifying\"}],onError:[{cond:\"shouldRedirectToConfirmSignUp\",actions:[\"setCredentials\",\"setConfirmSignUpIntent\"],target:\"rejected\"},{cond:\"shouldRedirectToConfirmResetPassword\",actions:[\"setUsernameAuthAttributes\",\"setConfirmResetPasswordIntent\"],target:\"rejected\"},{actions:\"setRemoteError\",target:\"edit\"}]}},verifying:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"checkVerifiedContact\",onDone:[{cond:\"shouldRequestVerification\",target:\"#signInActor.verifyUser\",actions:\"setUnverifiedContactMethods\"},{target:\"resolved\"}],onError:{actions:\"setRemoteError\",target:\"edit\"}}},resolved:{always:\"#signInActor.resolved\"},rejected:{always:\"#signInActor.rejected\"}}},autoSignIn:{initial:\"submit\",states:{submit:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"signIn\",onDone:[{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldForceChangePassword\",actions:[\"setUser\",\"setChallengeName\",\"setRequiredAttributes\"],target:\"#signInActor.forceNewPassword\"},{actions:\"setUser\",target:\"#signInActor.resolved\"}],onError:[{cond:\"shouldRedirectToConfirmSignUp\",actions:[\"setCredentials\",\"setConfirmSignUpIntent\"],target:\"#signInActor.rejected\"},{cond:\"shouldRedirectToConfirmResetPassword\",actions:[\"setUsernameAuthAttributes\",\"setConfirmResetPasswordIntent\"],target:\"#signInActor.rejected\"},{actions:\"setRemoteError\",target:\"#signInActor.signIn\"}]}}}},confirmSignIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"confirmSignIn\",onDone:{target:\"#signInActor.resolved\",actions:[\"setUser\",\"clearChallengeName\",\"clearRequiredAttributes\"]},onError:{target:\"edit\",actions:\"setRemoteError\"}}}}},forceNewPassword:{type:\"parallel\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{validation:{initial:\"pending\",states:{pending:{invoke:{src:\"validateFields\",onDone:{target:\"valid\",actions:\"clearValidationError\"},onError:{target:\"invalid\",actions:\"setFieldErrors\"}}},valid:{entry:\"sendUpdate\"},invalid:{entry:\"sendUpdate\"}},on:{SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\",target:\".pending\"},BLUR:{actions:\"handleBlur\",target:\".pending\"}}},submit:{initial:\"idle\",entry:\"clearError\",states:{idle:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"validate\"}}},validate:{entry:\"sendUpdate\",invoke:{src:\"validateFields\",onDone:{target:\"pending\",actions:\"clearValidationError\"},onError:{target:\"idle\",actions:\"setFieldErrors\"}}},pending:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"forceNewPassword\",onDone:[{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{target:\"resolved\",actions:[\"setUser\",\"setCredentials\"]}],onError:{target:\"idle\",actions:\"setRemoteError\"}}},resolved:{type:\"final\",always:\"#signInActor.resolved\"}}}}},setupTOTP:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"verifyTotpToken\",onDone:{actions:[\"clearChallengeName\",\"clearRequiredAttributes\"],target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},verifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"verifyUser\",onDone:{target:\"#signInActor.confirmVerifyUser\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},confirmVerifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearUnverifiedContactMethods\",\"clearAttributeToVerify\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"confirmVerifyUser\",onDone:{target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},resolved:{type:\"final\",data:function(e){return{user:e.user}}},rejected:{type:\"final\",data:function(e,t){return{intent:e.redirectIntent,authAttributes:e.authAttributes}}}}},{actions:{clearAttributeToVerify:u,clearChallengeName:l,clearRequiredAttributes:g,clearError:f,clearFormValues:m,clearTouched:h,clearUnverifiedContactMethods:p,clearValidationError:v,handleInput:I,handleSubmit:A,handleBlur:U,parsePhoneNumber:E,setChallengeName:S,setConfirmResetPasswordIntent:b,setConfirmSignUpIntent:C,setRequiredAttributes:y,setCredentials:T,setFieldErrors:w,setRemoteError:N,setUnverifiedContactMethods:R,setUser:P,setUsernameAuthAttributes:V,sendUpdate:c()},guards:{shouldConfirmSignIn:function(e,t){return M(k(t))},shouldAutoSignIn:function(e){return\"autoSignIn\"===(null==e?void 0:e.intent)},shouldRedirectToConfirmSignUp:function(e,t){return\"UserNotConfirmedException\"===t.data.code},shouldRedirectToConfirmResetPassword:function(e,t){return\"PasswordResetRequiredException\"===t.data.code},shouldSetupTOTP:function(e,t){return D(k(t),\"MFA_SETUP\")},shouldForceChangePassword:function(e,t){return D(k(t),\"NEW_PASSWORD_REQUIRED\")},shouldRequestVerification:function(e,t){var r=t.data,n=r.unverified,i=r.verified;return s(i)&&!s(n)}},services:{signIn:function(n){return e(this,void 0,void 0,(function(){var e,i,o,s,a,c,d;return t(this,(function(t){switch(t.label){case 0:return e=n.authAttributes,i=void 0===e?{}:e,o=n.formValues,s=void 0===o?{}:o,a=r(r({},i),s),c=a.username,d=a.password,[4,_.handleSignIn({username:c,password:d})];case 1:return[2,t.sent()]}}))}))},confirmSignIn:function(r){return e(this,void 0,void 0,(function(){var e,n,o,s;return t(this,(function(t){switch(t.label){case 0:return e=r.challengeName,n=r.user,o=r.formValues.confirmation_code,s=M(e)?e:void 0,[4,_.handleConfirmSignIn({user:n,code:o,mfaType:s})];case 1:return t.sent(),[4,i.currentAuthenticatedUser()];case 2:return[2,t.sent()]}}))}))},forceNewPassword:function(o){return e(this,void 0,void 0,(function(){var e,s,a,c,d,u,l,g,f;return t(this,(function(t){switch(t.label){case 0:e=o.user,s=o.formValues,a=s.password,s.confirm_password,c=s.phone_number,d=s.country_code,u=n(s,[\"password\",\"confirm_password\",\"phone_number\",\"country_code\"]),c&&(l=\"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi,\"\"),u=r(r({},u),{phone_number:l})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i.completeNewPassword(e,a,u)];case 2:return(g=t.sent()).challengeName?[2,g]:[2,i.currentAuthenticatedUser()];case 3:return f=t.sent(),[2,Promise.reject(f)];case 4:return[2]}}))}))},verifyTotpToken:function(r){return e(this,void 0,void 0,(function(){var e,n,o;return t(this,(function(t){return e=r.formValues,n=r.user,o=e.confirmation_code,[2,i.verifyTotpToken(n,o)]}))}))},federatedSignIn:function(r,n){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=n.data.provider,[4,i.federatedSignIn({provider:e})];case 1:return[2,t.sent()]}}))}))},checkVerifiedContact:function(r){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=r.user,[4,i.verifiedContact(e)];case 1:return[2,t.sent()]}}))}))},verifyUser:function(r){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.formValues.unverifiedAttr,[4,i.verifyCurrentUserAttribute(e)];case 1:return n=t.sent(),r.attributeToVerify=e,[2,n]}}))}))},confirmVerifyUser:function(r){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.attributeToVerify,n=r.formValues.confirmation_code,[4,i.verifyCurrentUserAttributeSubmit(e,n)];case 1:return[2,t.sent()]}}))}))},validateFields:function(r){return e(this,void 0,void 0,(function(){return t(this,(function(e){return[2,d(r.formValues,r.touched,r.passwordSettings,[F.validateConfirmPassword])]}))}))}}})}export{j as signInActor};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}